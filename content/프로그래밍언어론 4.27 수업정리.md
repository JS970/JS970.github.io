+++
title = "프로그래밍언어론 2023-04-27 수업정리"
date = 2023-04-27
[taxonomies]
tags = ["Programming Language Principles"]
[extra]
author = "JS970"
katex= true
+++
# Flow
- Review(Prolog)
- SWI-Prolog(2)

## Review - Prolog
---
>Prolog = predicate + term

### Predicate(술어)
- 소문자로 시작하며, 상수의 일종으로 생각할 수 있다.

### term(항)
- 변수 또는 상수이다.
	- 변수 :  `_`또는 대문자로 시작한다.
	- 상수 : 소문자로 시작한다.

### Horn Clause
- Prolog에서는 predicate와 term으로 horn clause를 구성한다.
- Prolog에서는 horn clause형태로 fact, rule을 정의하고, 이를 통해 goal에 대한 답을 찾을 수 있다.
- goal : reputation(논증)을 통해 참/거짓에 대한 답을 도출한다.


## SWI-Prolog(2)
---
### Basic Prolog Commands with Arity
- Arity는 항의 수(인자의 수)를 의미한다.
- 아래는 이전에 배운 명령어들을 Arity와 함깨 나타낸 것이다.
	- halt/0 : 현재 수행 중인 세션 종료, 파라미터가 필요 없다.
	- listing/0 : 사용자 정의 술어를 모두 보여준다.
	- edit/1 : 인수로 주어진 파일을 편집한다.(functor file 사용)
	- consult/1 : 인수로 주어진 파일의 모든 술어를 적재한다.
- 이번 시간에 추가로 배운 Commands(with Arity)
	- make/0 : 최근에 적재된 술어를 다시 적재한다.
	- help/1 : 인수로 주어진 술어의 도움말을 제시한다.
	- listing/1 : 인수로 주어진 술어의 정의만을 보여준다.

### Elements of Prolog Programs
- Facts(사실)
	- fact는 어느 한 객체의 속성이나 둘 이상의 객체의 관계를 나타내는 assertion을 의미한다.
- Rules(규칙)
	- rule이란 어떤 가정을 기초로 객체의 속성이나 관계를 알 수 있도록 정의한 것이다.
- Goals
	- Prolog의 Element가 아니라 사용자가 묻는 **"목적"** 이다.

### Predicates(술어)
- Prolog에서 predicate는 **boolean function**이다.
- Prolog에서 predicate는 `fact`와 `rule`을 이용하여 정의한다.
```Prolog
parent(jane, alen).
parent(X, Y) :- mother(X, Y).
```
- 위의 문장에서 parent는 predicate이고, (jane, alen), (X, Y)는 term이다.
- term은 데이터(fact)를 나타내는 유닛이다.
- predicate이 참이 되려면 어떤 정보를 알아야 하는지 rule을 이용하여 기술할 수 있다.

### Clauses(절)
- predicate의 개별 정의를 clauses라고 한다.
	- fact이든 rule이든 관계없다.
```Prolog
parent(jane, alen).
```
- 위의 문장은 fact로 이루어진 하나의 clause이다.
	- `body`없이 `fact`로만 이루어져 있으므로 항상 참이다.
```Prolog
parent(X, Y) :- mother(X, Y).
```
- 위의 문장은 두 개의 clauses(body, fact)로 이루어진 rule이다.
	- 이 rule은 parent라는 predicate에 대해서 정의한다.
	- 좌항은 `head`, 우항은 `body`라고 한다.

### Arguments
- predicate는 인수를 받을 수 있다.
- 인수는 `term`으로 구성된다.
- `term`은 상수(constant), 변수(variable), 복합형 중 하나의 형태이다.
	- 상수 : 소문자로 시작되는 이름
	- 변수 : 대문자 또는 `_` 로 시작되는 이름
	- 복합항 : 여러 항을 functor로 묶은 것
		- functor = a functional constructor
		- data constructor이다.
		- function으로 구성된다.
		- **list도 복합항으로 취급**된다.

### Terms : Constant(상수)
- 수, 기호상수, 문자열 상수 중 하나이다.
- 수 : 정수 및 부동소수점 수
- 기호상수(symbolic constants) : 항상 소문자로 시작되어야 하며 문자, 숫자 밑줄이 그 뒤로 올 수 있다.
- 문자열 상수(string constants) : 작은 따음표로 감싼 형태이다
	- 꼭 대문자로 상수명을 지정하고 싶을 경우 사용 가능
	- 문자열 상수 예시 : 'Like this'

### Terms : Variables(변수)
- 대문자나 `_`로 시작해야 한다.
- 첫 번째 문자만 제외하면 문자, 숫자, `_`이 혼합되어 사용될 수 있다.
- Prolog에서 변수나 상수의 **형(type)은 없다**.
	- 즉 어떤 값이든 될 수 있다.
- Prolog에서 모든 변수는 local variable이다.
	- 변수의 값은 같은 절(clause)내에서는 일정하며, 절(clause)외부의 값을 유지하는 경우는 없다.

### Terms : Lists
- 리스트는 아래 두 가지 중 하나이다.
	- 빈 리스트
	- 원소가 하나 이상인 리스트
- 일반 항을 사용할 때 아래의 두 가지 패턴 중 하나를 사용하면 된다.
	- 빈 리스트 : \[\]
	- 원소가 하나 이상인 리스트 : \[H|T\]
- 아래는 리스트 사용 예시이다.
```Prolog
sum([], 0).
sum([H|T], X) :- sum(T|Y), X is H + Y.

?- sum([1, 2, 3, 4], X).
X = 10
```
- X = 10 이 유도되는 과정은 아래와 같다.
	1. sum([1, 2, 3, 4], X) = sum([2, 3, 4], Y), X = 1 + Y
	2. sum([2, 3, 4], X) = sum([3, 4], Y), X = 2 + Y
	3. sum([3, 4], X) = sum([4], Y), X = 3 + Y
	4. sum([4], X) = sum([], Y), X = 4, Y = 0
	5. by 4, X = 3 + 4 = 7 at 3
	6. by 3, X = 2 + 7 = 9 at 2
	7. by 2, X = 1 + 9 = 10 at 1
- 참고로 위의 코드에서 sum([], 0). 구문과 sum([H|T], X) :- sum(T|Y), X is H + Y. 구문의 위치를 바꿔도 정상적으로 동작한다. 이는 Prolog 가 declarative language이기 때문이다.

### Unification(단일화)
- **동형화** 라고 생각하면 이해하기 편하다.
- 변수가 포함된 두 개의 항을 일치시키는 것을 unification이라고 한다.
- 두 항이 unification 가능하다면 일치(match)한다고 한다.
- 구조와 인수가 맞아야 사용 가능하다.
	- 서로 다른 상수는 일치하지 않는다.
	- 상수와 변수는 일치할 수 있다.
- 아래는 예시이다.
```Prolog
?- loves(john, X) = loves(Y, marry).
X = mary, Y = john

?- loves(john, X) = loves(mary, X).
false.
```

### Factorial in Prolog
- 아래는 Prolog에서 Factorial을 계산하는 코드이다.
```Prolog
fact(0, 1).
fact(N, M) :- 
	N > 0,
	N1 is N - 1,
	fact(N1, M1),
	M is N * M1.
```
