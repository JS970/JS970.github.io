<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
<title>webOS on Raspberry pi 4 | Rounding Off</title>



<meta property="og:title" content="webOS on Raspberry pi 4">



<meta name="author" content="JS970">


<meta property="og:locale" content="en-US">


<meta name="description" content="writing is much easier than remembering">
<meta property="og:description" content="writing is much easier than remembering">



<link rel="canonical" href="https://js970.github.io/webos-on-raspberry-pi-4/">
<meta property="og:url" content="https://js970.github.io/webos-on-raspberry-pi-4/">



<meta property="og:site_name" content="Rounding Off" />





  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2023-03-01T00:00:00+00:00">







  <meta name="twitter:card" content="summary">



  <meta property="twitter:title" content="webOS on Raspberry pi 4">








<script type="application/ld+json">
{
  "author": {
    "@type":"Person",
	  "name":"JS970",
  },
  "description": "writing is much easier than remembering",
  "url": "https://js970.github.io/webos-on-raspberry-pi-4/",
  "@context":"https://schema.org",
  "@type": "BlogPosting",
  "headline": "webOS on Raspberry pi 4"
  
    
    
      "datePublished":"2023-03-01T00:00:00+00:00",
    
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://js970.github.io/webos-on-raspberry-pi-4/"
    },
  
}
</script>

  <link rel="stylesheet" href="https://js970.github.io/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">

  <link rel="icon" type="image/png" sizes="32x32" href="https://js970.github.io/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://js970.github.io/assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://js970.github.io/assets/apple-touch-icon.png">

  
    <link type="application/atom+xml" rel="alternate" href="https://js970.github.io/atom.xml" title="Rounding Off" />
  

  

  
  
</head>

<body>
  
  <nav class="nav">
    <div class="nav-container">
      <a href="https://js970.github.io/">
        <h2 class="nav-title">Rounding Off</h2>
      </a>
      <ul>
        
          
            <li><a href="https://js970.github.io">Posts</a></li>
          
            <li><a href="https://js970.github.io/tags">Tags</a></li>
          
            <li><a href="https://js970.github.io/about">About</a></li>
          
        
      </ul>
    </div>
  </nav>
  

  <main>
    
  <div class="post">
  	<div class="post-info">
  		<span>Written by</span> JS970<br>
  		
  		<span>on&nbsp;</span><time datetime="2023-03-01">March  1, 2023</time>
  	</div>
  	<h1 class="post-title">webOS on Raspberry pi 4</h1>
  	<div class="post-line"></div>
  	<h1 id="webos-ose-open-source-eddition">webOS OSE(open source eddition)</h1>
<ul>
<li>webOS의 오픈 소스 버전이다.</li>
<li>필요에 따라 커스텀 빌드가 가능하다.</li>
<li>빌드 시스템으로는 <strong>yocto</strong>를 사용하며, 이는 18.04이전 버전의 Ubuntu에서 동작한다.</li>
<li>본 글에서는 라즈베리파이4에 설치할 운영체제인 <strong>webOS OSE</strong>를 빌드하는 과정을 설명한다.</li>
</ul>
<h1 id="jjubimul">준비물</h1>
<ul>
<li>
<p>18.04 이하 버전의 ubuntu(VM 안됨)</p>
<ul>
<li>이후 버전으로 빌드를 시도하면 <strong>yocto</strong>가 에러뜬다.</li>
<li>본 빌드에서는 <strong>Ubuntu 18.04.6 LTS</strong>를 사용하였다.</li>
<li>개인 서버는 <strong>Ubuntu 22.02 LTS</strong>를 사용중이고, 여기서 빌드를 시도할 경우 <strong>yocto</strong>설치 파일을 제대로 다운로드하지 못하는 문제가 있었다. 그냥 맘편히 VMWARE에서 <strong>Ubuntu 18.04.6 LTS</strong> 로 설치했다. ⇒ 진짜 이틀을 날린 희대의 실수가 되었다… VM은 쓰지 말 것..</li>
</ul>
</li>
<li>
<p>빌드 시스템(<strong>yocto</strong>)</p>
<ul>
<li><strong>yocto</strong> 에 대해서 자세하게 조사하지는 않았으며, 그냥 webOS를 빌드하기 위한 빌드 시스템 정도로 파악하고 넘어갔다.</li>
<li>webOS OSE는 yocto를 통한 빌드 시 webOS image를 수정하여 빌드하는 것이 가능하다.</li>
<li>본 빌드에서는 따로 webOS image를 수정 또는 변경하지 않고 기본 상태 그대로 빌드했다.</li>
</ul>
</li>
<li>
<p><strong>gcc</strong>(8.2버전 이상)</p>
<ul>
<li><strong>Ubuntu18.04.6</strong>설치 후 빌드를 시도하였으나 g++컴파일러가 헤더를 charconv헤더를 인식하지 못해 빌드에 실패했다는 에러가 발생했다. 해당 에러에 대해 검색해 보니 8.2버전 이상의 g++컴파일러를 필요로 했다.</li>
<li><strong>Ubuntu18.04.6</strong>의 기본 설치된 gcc의 버전은 7.4였다.</li>
<li>gcc의 버전 업데이트를 위해 다음과 같은 커멘드를 입력하였다.</li>
</ul>
<pre data-lang="powershell" style="background-color:#2b303b;color:#c0c5ce;" class="language-powershell "><code class="language-powershell" data-lang="powershell"><span>sudo </span><span style="color:#96b5b4;">add-apt</span><span>-repository ppa:ubuntu-toolchain-r/test
</span><span>sudo apt-get update
</span><span>sudo apt-get install gcc-</span><span style="color:#d08770;">11</span><span> g++</span><span style="color:#d08770;">-11
</span><span>sudo </span><span style="color:#96b5b4;">update-alternatives </span><span>--install /usr/bin/gcc gcc /usr/bin/gcc-</span><span style="color:#d08770;">11 110 </span><span>--slave /usr/bin/g++ g++ /usr/bin/g++</span><span style="color:#d08770;">-11
</span><span>sudo </span><span style="color:#96b5b4;">update-alternatives </span><span>--config gcc
</span></code></pre>
<ul>
<li>다음은 gcc11을 설치하는 과정이다.
<ul>
<li>gcc의 최신 버전이 올라오는 <strong>PPA</strong>(Personal Package Archive)를 추가한다.(1행)</li>
<li>gcc-11을 설치한다.(3행)</li>
<li>실행 시 버전을 명시하지 않고도 바로 사용할 수 있도록 gcc에 매핑시킨다.(4행)</li>
</ul>
</li>
</ul>
<p><a href="https://kukuta.tistory.com/394">[gcc] Ubuntu 20.04에서 최신 버전 gcc설치하기</a></p>
</li>
<li>
<p>Raspberry pi 4</p>
<ul>
<li>Target machine으로 Raspberry pi 4, 4GB모델을 사용했다.</li>
</ul>
</li>
<li>
<p>sd card</p>
<ul>
<li>webOS OSE의 image가 올라갈 저장 공간으로 sd card가 있어야 한다.</li>
<li>64GB sd card를 사용하였다.</li>
</ul>
</li>
</ul>
<h1 id="build">Build</h1>
<ul>
<li>아래 페이지의 README.md를 참고하여 빌드한다.</li>
</ul>
<p><a href="https://github.com/webosose/build-webos">https://github.com/webosose/build-webos</a></p>
<ul>
<li><code>절대로</code> VM을 사용해서 빌드를 시도하지 말자… 애초에 README.md에서도 VM을 사용하지 말라고 명시했다.</li>
</ul>
<ol>
<li>빌드 시스템(yocto)설치</li>
</ol>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">git</span><span> clone https://github.com/webosose/build-webos.git
</span><span style="color:#96b5b4;">cd</span><span> build-webos
</span><span style="color:#bf616a;">sudo</span><span> scripts/prerequisites.sh
</span></code></pre>
<ol>
<li>빌드 환경의 총 cpu코어 수 조사, 두 값을 곱한 값이 총 코어 수이다.</li>
</ol>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># Pyhsical CPU
</span><span style="color:#bf616a;">cat</span><span> /proc/cpuinfo | </span><span style="color:#bf616a;">grep </span><span>&quot;</span><span style="color:#a3be8c;">physical id</span><span>&quot; | </span><span style="color:#bf616a;">sort </span><span>| </span><span style="color:#bf616a;">uniq </span><span>| </span><span style="color:#bf616a;">wc -l
</span><span style="color:#65737e;"># Pyhsical CPU cores
</span><span style="color:#bf616a;">cat</span><span> /proc/cpuinfo | </span><span style="color:#bf616a;">grep </span><span>&quot;</span><span style="color:#a3be8c;">cpu cores</span><span>&quot; | </span><span style="color:#bf616a;">uniq
</span></code></pre>
<ol>
<li>빌드 시작 전 configure</li>
</ol>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">./mcf -p </span><span>&lt;cpu core&gt; -b &lt;cpu core&gt; raspberrypi4
</span></code></pre>
<ol>
<li>빌드 시작</li>
</ol>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">make</span><span> webos-build
</span></code></pre>
<p>(23/02/16 기준으로 아래와 같은 에러가 발생하며 더 이상 진행하지 못하고 있다.</p>
<p><img src="/image/Enviromnent_Settings/webOS_on_Raspberry_pi_4/Screenshot_from_2023-02-16_22-23-01.png" alt="Screenshot from 2023-02-16 22-23-01.png" /></p>

  </div>

	

  <div class="pagination">
  	
		<a href="#" class="top">Top</a>
		
  </div>

  </main>

  
  <footer>
    <span>&copy; 2022 JS970. Made with <a href="https://www.getzola.org">Zola</a> using the <a
          href="https://github.com/aaranxu/tale-zola">Tale-Zola</a> theme.</span>
  </footer>
  
</body>
</html>
