<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
<title>7576 - 토마토 | Rounding Off</title>



<meta property="og:title" content="7576 - 토마토">



<meta name="author" content="JS970">


<meta property="og:locale" content="en-US">


<meta name="description" content="writing is much easier than remembering">
<meta property="og:description" content="writing is much easier than remembering">



<link rel="canonical" href="https://js970.github.io/7576-tomato/">
<meta property="og:url" content="https://js970.github.io/7576-tomato/">



<meta property="og:site_name" content="Rounding Off" />





  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2023-03-24T00:00:00+00:00">







  <meta name="twitter:card" content="summary">



  <meta property="twitter:title" content="7576 - 토마토">








<script type="application/ld+json">
{
  "author": {
    "@type":"Person",
	  "name":"JS970",
  },
  "description": "writing is much easier than remembering",
  "url": "https://js970.github.io/7576-tomato/",
  "@context":"https://schema.org",
  "@type": "BlogPosting",
  "headline": "7576 - 토마토"
  
    
    
      "datePublished":"2023-03-24T00:00:00+00:00",
    
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://js970.github.io/7576-tomato/"
    },
  
}
</script>

  <link rel="stylesheet" href="https://js970.github.io/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">

  <link rel="icon" type="image/png" sizes="32x32" href="https://js970.github.io/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://js970.github.io/assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://js970.github.io/assets/apple-touch-icon.png">

  
    <link type="application/atom+xml" rel="alternate" href="https://js970.github.io/atom.xml" title="Rounding Off" />
  

  

  
  
</head>

<body>
  
  <nav class="nav">
    <div class="nav-container">
      <a href="https://js970.github.io/">
        <h2 class="nav-title">Rounding Off</h2>
      </a>
      <ul>
        
          
            <li><a href="https://js970.github.io">Posts</a></li>
          
            <li><a href="https://js970.github.io/tags">Tags</a></li>
          
            <li><a href="https://js970.github.io/about">About</a></li>
          
        
      </ul>
    </div>
  </nav>
  

  <main>
    
  <div class="post">
  	<div class="post-info">
  		<span>Written by</span> JS970<br>
  		
  		<span>on&nbsp;</span><time datetime="2023-03-24">March 24, 2023</time>
  	</div>
  	<h1 class="post-title">7576 - 토마토</h1>
  	<div class="post-line"></div>
  	<ul>
<li>난이도: 골드 5</li>
<li>날짜: 2023년 3월 24일</li>
<li>상태: Correct</li>
<li>추가 검토 여부: Todo Implement with Graph Theory(BFS)</li>
<li>알고리즘 : Graph(BFS), heuristic(?)</li>
</ul>
<blockquote>
<p>나중에 BFS를 이용하여 풀이 시도해 볼 것</p>
</blockquote>
<h1 id="solution">Solution</h1>
<ul>
<li>보자마자 그래프 문제인 것은 알았지만 어떻게 풀어야 할지 감이 잡히지 않았다.</li>
<li>그냥 내가 짠 알고리즘대로 풀이에 도전했고, 초기 코드는 시간복잡도로 인한 시간초과 문제가 있었으나 해결했다.</li>
<li>아래는 내 접근법이다.
<ol>
<li>오늘 익은 토마토만이 내일 익을 토마토에 영향을 미친다. 이처럼 다음 익을 토마토에 영향을 미칠 토마토들의 배열 인덱스를 저장하는 nextRipeQueue를 이용한다.</li>
<li>nextRipeQueue에 인접한 상하좌우 위치의 토마토에 대해(배열 원소값이 -1이거나, 배열 경계를 벗어난 경우는 처리하지 않는다.) 1로 바꾸는 propagate작업을 한다. 이 작업은 문제 조건에 따라 하루에 한 번 일어난다.</li>
<li>propagate작업을 수행했음에도 불구하고 익은 토마토의 개수가 변하지 않는 경우 익을 수 있는 모든 토마토가 다 익은 것이다. 이때, 익을 수 없는 위치에 토마토가 존재하는 예외 상황에 대해서 처리해 주어야 한다.(총 토마토 개수와 익은 토마토 개수의 개수 비교로 구현 가능)</li>
</ol>
</li>
<li>결과적으로 접근법 자체는 틀리지 않았으나, 익지 않은 토마토의 개수를 세는 함수를 따로 구현하여 정답을 계산하는 함수에서 호출하였더니 불필요한 연산이 증가함에 따라 시간초과를 출력했다.
<ul>
<li>불필요한 연산을 제거하니 문제는 해결되었다.</li>
</ul>
</li>
</ul>
<h1 id="code">code</h1>
<ul>
<li>윗 문단에서 소개한 내 접근법으로 구현한 코드</li>
</ul>
<pre data-lang="c++" style="background-color:#2b303b;color:#c0c5ce;" class="language-c++ "><code class="language-c++" data-lang="c++"><span style="color:#b48ead;">#include </span><span>&lt;</span><span style="color:#a3be8c;">iostream</span><span>&gt;
</span><span style="color:#b48ead;">#include </span><span>&lt;</span><span style="color:#a3be8c;">queue</span><span>&gt;
</span><span style="color:#b48ead;">#include </span><span>&lt;</span><span style="color:#a3be8c;">vector</span><span>&gt;
</span><span style="color:#b48ead;">using namespace</span><span> std;
</span><span>
</span><span style="color:#b48ead;">int </span><span style="color:#8fa1b3;">propagate</span><span>(</span><span style="color:#b48ead;">int </span><span>** </span><span style="color:#bf616a;">arr</span><span>, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">M</span><span>, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">N</span><span>, queue&lt;pair&lt;</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#b48ead;">int</span><span>&gt;&gt; * </span><span style="color:#bf616a;">q</span><span>)
</span><span>{
</span><span>    </span><span style="color:#b48ead;">int</span><span> result = </span><span style="color:#d08770;">0</span><span>;
</span><span>    </span><span style="color:#b48ead;">int</span><span> dc[</span><span style="color:#d08770;">4</span><span>] = {</span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">0</span><span>, -</span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">0</span><span>};
</span><span>    </span><span style="color:#b48ead;">int</span><span> dr[</span><span style="color:#d08770;">4</span><span>] = {</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">0</span><span>, -</span><span style="color:#d08770;">1</span><span>};
</span><span>    vector&lt;pair&lt;</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#b48ead;">int</span><span>&gt;&gt; nextRipe;
</span><span>
</span><span>    </span><span style="color:#b48ead;">while</span><span>(!(q-&gt;</span><span style="color:#bf616a;">empty</span><span>()))
</span><span>    {
</span><span>        </span><span style="color:#b48ead;">int</span><span> c = q-&gt;</span><span style="color:#bf616a;">front</span><span>().</span><span style="color:#bf616a;">first</span><span>; </span><span style="color:#b48ead;">int</span><span> r = q-&gt;</span><span style="color:#bf616a;">front</span><span>().</span><span style="color:#bf616a;">second</span><span>;
</span><span>        </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> i = </span><span style="color:#d08770;">0</span><span>; i &lt; </span><span style="color:#d08770;">4</span><span>; i++)
</span><span>        {
</span><span>            </span><span style="color:#b48ead;">int</span><span> col = c + dc[i]; </span><span style="color:#b48ead;">int</span><span> row = r + dr[i];
</span><span>            </span><span style="color:#b48ead;">if</span><span>(col &lt; </span><span style="color:#d08770;">0 </span><span>|| row &lt; </span><span style="color:#d08770;">0 </span><span>|| col &gt;= N || row &gt;= M) </span><span style="color:#b48ead;">continue</span><span>;
</span><span>            </span><span style="color:#b48ead;">if</span><span>(arr[col][row] == -</span><span style="color:#d08770;">1</span><span>) </span><span style="color:#b48ead;">continue</span><span>;
</span><span>            </span><span style="color:#b48ead;">if</span><span>(arr[col][row] == </span><span style="color:#d08770;">0</span><span>)
</span><span>            {
</span><span>                arr[col][row] = </span><span style="color:#d08770;">1</span><span>;
</span><span>                nextRipe.</span><span style="color:#bf616a;">push_back</span><span>({col, row});
</span><span>                result++;
</span><span>            }
</span><span>        }
</span><span>        q-&gt;</span><span style="color:#bf616a;">pop</span><span>();
</span><span>    }
</span><span>    </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> i = </span><span style="color:#d08770;">0</span><span>; i &lt; nextRipe.</span><span style="color:#bf616a;">size</span><span>(); i++)
</span><span>        q-&gt;</span><span style="color:#bf616a;">push</span><span>(nextRipe[i]);
</span><span>    </span><span style="color:#b48ead;">return</span><span> result;
</span><span>}
</span><span>
</span><span style="color:#b48ead;">int </span><span style="color:#8fa1b3;">dayCalc</span><span>(</span><span style="color:#b48ead;">int </span><span>** </span><span style="color:#bf616a;">arr</span><span>, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">M</span><span>, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">N</span><span>, queue&lt;pair&lt;</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#b48ead;">int</span><span>&gt;&gt; </span><span style="color:#bf616a;">q</span><span>)
</span><span>{
</span><span>    </span><span style="color:#b48ead;">int</span><span> result = </span><span style="color:#d08770;">0</span><span>;
</span><span>    </span><span style="color:#b48ead;">int</span><span> curCount = </span><span style="color:#d08770;">0</span><span>;
</span><span>    </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> i = </span><span style="color:#d08770;">0</span><span>; i &lt; N; i++)
</span><span>        </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> j = </span><span style="color:#d08770;">0</span><span>; j &lt; M; j++)
</span><span>            </span><span style="color:#b48ead;">if</span><span>(arr[i][j] == </span><span style="color:#d08770;">0</span><span>) curCount++;
</span><span>    </span><span style="color:#b48ead;">if</span><span>(curCount == </span><span style="color:#d08770;">0</span><span>) </span><span style="color:#b48ead;">return</span><span> result;
</span><span>    </span><span style="color:#b48ead;">int</span><span> prevCount = </span><span style="color:#d08770;">0</span><span>;
</span><span>    </span><span style="color:#b48ead;">int</span><span> tomato = </span><span style="color:#d08770;">0</span><span>;
</span><span>    </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> i = </span><span style="color:#d08770;">0</span><span>; i &lt; N; i++)
</span><span>        </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> j = </span><span style="color:#d08770;">0</span><span>; j &lt; M; j++)
</span><span>            </span><span style="color:#b48ead;">if</span><span>(arr[i][j] != -</span><span style="color:#d08770;">1</span><span>) tomato++;
</span><span>    prevCount = curCount;
</span><span>    
</span><span>    </span><span style="color:#b48ead;">while</span><span>(</span><span style="color:#d08770;">true</span><span>)
</span><span>    {
</span><span>        curCount -= </span><span style="color:#bf616a;">propagate</span><span>(arr, M, N, &amp;q);
</span><span>        </span><span style="color:#b48ead;">if</span><span>(curCount == prevCount)
</span><span>        {
</span><span>            </span><span style="color:#b48ead;">int</span><span> ripedTomato = </span><span style="color:#d08770;">0</span><span>;
</span><span>            </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> i = </span><span style="color:#d08770;">0</span><span>; i &lt; N; i++)
</span><span>                </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> j = </span><span style="color:#d08770;">0</span><span>; j &lt; M; j++)
</span><span>                    </span><span style="color:#b48ead;">if</span><span>(arr[i][j] == </span><span style="color:#d08770;">1</span><span>) ripedTomato++;
</span><span>            </span><span style="color:#b48ead;">if</span><span>(ripedTomato == tomato) </span><span style="color:#b48ead;">return</span><span> result;
</span><span>            </span><span style="color:#b48ead;">return </span><span>-</span><span style="color:#d08770;">1</span><span>;
</span><span>        }
</span><span>        prevCount = curCount;
</span><span>        result++;
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">int </span><span style="color:#8fa1b3;">main</span><span>()
</span><span>{
</span><span>    ios::</span><span style="color:#bf616a;">sync_with_stdio</span><span>(</span><span style="color:#d08770;">false</span><span>);
</span><span>    cin.</span><span style="color:#bf616a;">tie</span><span>(</span><span style="color:#d08770;">NULL</span><span>);
</span><span>
</span><span>    </span><span style="color:#b48ead;">int</span><span> M, N;
</span><span>    cin &gt;&gt; M &gt;&gt; N;
</span><span>    </span><span style="color:#b48ead;">int </span><span>** arr = </span><span style="color:#b48ead;">new int</span><span>*[N];
</span><span>    queue&lt;pair&lt;</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#b48ead;">int</span><span>&gt;&gt; nextRipeQueue;
</span><span>    </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> i = </span><span style="color:#d08770;">0</span><span>; i &lt; N; i++)
</span><span>    {
</span><span>        arr[i] = </span><span style="color:#b48ead;">new int</span><span>[M];
</span><span>        </span><span style="color:#b48ead;">for</span><span>(</span><span style="color:#b48ead;">int</span><span> j = </span><span style="color:#d08770;">0</span><span>; j &lt; M; j++)
</span><span>        {
</span><span>            cin &gt;&gt; arr[i][j];
</span><span>            </span><span style="color:#b48ead;">if </span><span>(arr[i][j] == </span><span style="color:#d08770;">1</span><span>) nextRipeQueue.</span><span style="color:#bf616a;">push</span><span>({i, j});
</span><span>        }
</span><span>    }
</span><span>
</span><span>    cout &lt;&lt; </span><span style="color:#bf616a;">dayCalc</span><span>(arr, M, N, nextRipeQueue) &lt;&lt; endl;
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">0</span><span>;
</span><span>}
</span></code></pre>
<h1 id="ref">ref</h1>
<p><a href="https://www.acmicpc.net/problem/7576">7576번: 토마토</a></p>

  </div>

	

  <div class="pagination">
  	
		<a href="#" class="top">Top</a>
		
  </div>

  </main>

  
  <footer>
    <span>&copy; 2022 JS970. Made with <a href="https://www.getzola.org">Zola</a> using the <a
          href="https://github.com/aaranxu/tale-zola">Tale-Zola</a> theme.</span>
  </footer>
  
</body>
</html>
